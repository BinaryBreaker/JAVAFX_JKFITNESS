package MyLayout;

import MyLayout.Model.SocketDataModel;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.PrintWriter;
import java.net.InetAddress;
import java.net.Socket;

public class JavaSocket {

    private Socket clientSocket;
    private PrintWriter out;
    private BufferedReader in;

    public void startConnection(String ip, int port) throws IOException {
            clientSocket = new Socket(ip, port);
            out = new PrintWriter(clientSocket.getOutputStream(), true);
            in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));
    }

    String ok = "4f1d535232320000065e5f0505050709ced000001a5f6e0000000086f5448d5edc0104029c003200945d9301be00fb0d7d00065f370cc500f400e90d6f5e0d00d405cf00c301a153e101db00220f79009c5e050e43001401fc0fef5e0f003a0cdc0067008551a3017800fc0fc601db5e200e4c0089002d0f195edd01590fc2009101525531013001420ef900415f260c1c0032018b0f195e5300500f8800f6006b502f014300670c5500d35efc0c7200ec008f049e5e0f0052087900cf01e25cbf01c4000e0f0a00e05e260f4c00f2008f0d525e1700270b65005900f6519f014401630f7d00475f590a48003201e20f2b5e12004a0fc1008e014c55e3019400840f34002d5f350840003e01e40d165ff801230cf4008501475531014e014c0ab700465eef0eb9003200320e8e5e1a01740ca0001c0009578c0109016305b600c15ef10eaf000c01810f865e1b0089069a00e2015f50d4010d013b0bbc003e5f810da70039010a0fbb5e8c01030fe300dc01bf54d3013c014a073b00005f2b0cdd003e018408c85e4600c8086b00b300f65150014801a60a5600615e710e42007700a70f215e7301e70fe3009400045171012d00ef0a910a73abe8be35424d32d453cf5cb3edd2f8a5f4e80d53cc2c05b5f981856cf01ff0c44efc6e857da072cfa36300c2f940034f8070dc4c15c9f282145983cf5f3813cd008a8053812fd0a3f8aafb8e002701a0a44488b6f882f9fe11594c5222e80e0d8d1cfdbbab5c20411e2c0b00dc5bdf300c72005a05ec042476ef05d5fa9d82b88365de4e071b7bd8fa48f04f58204a6e68827805f32b4cf4c31910cd5c5881dc5fa3eb8eeeb5fc84059cde83106e25320218f04f08ab012e085a020303ffca180ed90f4c137889535bb0098982dde6fc1277558ffc70fad8f7ec844b5e8783768289f5347eaba9b1fe39fc757d00fa085acbeaf90dc50203f9277aacfd152e4d01b8836c210a8da7f51f86880a74da678afd14e90d7f7c364d9c8079dda6f443f4b4b21811b9f6e1b76ca4d777e43a4d8ee50a78d3eec864844901caf82b2908400c6dc579597a05031c5797809c83658128863a55858699023d0a0cf2b82ec9faa97845024d832bdea489fa09da02d79277db5c808d8235764783b1db487ca57f1e766487b45d62811b0dc3831203cb5f9c877a7c5149ad79ea256caa0f010320a763105e010100cb9b40d8db8226d66499efb7208d01048526d10b001807c6c0c60759fe04009e1bb16f0b5e831d7076c0c1a7ffc79e1001bb1c74c09e7cc7a168590700571ea8c1509e07016b1e6d6a040806911e75567310001924729e65c15bc2c0c10559025ee92d7d7709004334772ec1c05a1600f7f2868d38c1c0ffc1704507c0494601fe41867878056674264bc06604002f82624846000149867e6aa266c69cc1c1c0595a0dc5de54de7963c185c104c5e65258c1fe0a00996532c042a0c14b03009166b1c1005e906a70c15a1ac41169d75879c2ffc1c104ffc69fc0c06b6a5904c522713ec1c007004078acc25d9e0801a678fa4691c01c5f157b8c726f740570c79e7ac0686f1c01df8c8a39fe7ac3fec36b06c0649fc0c0547003007a8d05a10801498e62c0a1c16a51001a948c595c0766c4101801e19686c1057e769f7668c0c1c0553ac3025ee897063608007a9906663c1600b79b7dbd75f99c7f5dc0c0c0fe065a1b5f1a9c8fc1ff7007707432c1686b565b12c5d9a2de4cfec2697c7eb60606bfa50830c00c0050bbf118feffff3eff0cc595c6a4552afdc1c1fdca00709de834ffffc12805fe365401c1c51353fe3afe7f5a016fca678b1cc41acdc26e78527e87c14c6cc633110190d4fdc03bfdf970594ec00d00a31d0625a25afac1c3fe03c5a3db4eff0800e2dd22043fc6a1fd020106df22050d06d0e1011e23fdff052a035e1de05cc1ffc4c90093b811fcfcfefffd38fec69ffc0b00d0e62984ff55a30a0195eb1afc3828f9a535021057589339050630ee5bc4c6c606c548f00e76c209004df683c0c2a1c5c2b20900c33329fba1fefefb9e04005dfb2b7f0911940649fde5fafd4b001aff9e458b04c5579dfec3c2c29b08d5b8046e26fc4c0710ffc22dc766fd0510af0f3de206168b1135fefe4e04d5981712fcfe061029158c65f858112f1540fe62c010544736c5c6c31b10bb1e76a6fafafcfdff27f92ef8a13f5a41081096ec57f87afdfb08109c298afefba3fefdfe0410f5ee2d355b111a3550c06c8142075f010100160000c50004460101000000008042";

    public String sendMessage(String msg) throws IOException {
        out.println(msg);
        String resp = null;
        resp = in.readLine();
        return resp;
    }

    public void stopConnection() {
        try{
            in.close();
            out.close();
            clientSocket.close();
        }catch (IOException e){

        }

    }
//
//    public static void main(String[] args){
//        MyLayout.JavaSocket javaSocket = new MyLayout.JavaSocket();
//        javaSocket.startConnection("0.0.0.0",9999);
//        System.out.println( javaSocket.sendMessage(""));
//        try {
//            Thread.sleep(1000);
//        } catch (InterruptedException e) {
//            e.printStackTrace();
//        }
//
//    }
}
